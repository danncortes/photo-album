<ng-content>
    <div [cdkMenuTriggerFor]="menu" class="gallery-thumbnail">
        <img
            src="{{ getImgSrc(photo()[0]) }}"
            [alt]="photo()[0]"
            [title]="photo()[0]"
        />
        <div class="gallery-thumbnail__pages-container">
            @for (pageIndex of photo()[1].pages; track $index) {
                <div class="gallery-thumbnail__page">
                    {{ pageIndex + 1 }}
                </div>
            }
        </div>
    </div>
    <ng-template #menu>
        <div cdkMenu class="thumbnail-pages-menu">
            @for (page of getPagesOptions(photo()[1].pages); track $index) {
                <div
                    class="thumbnail-pages-menu__option {{
                        page ? 'active' : ''
                    }}"
                    cdkMenuItem
                    (click)="
                        addPhotoToPage({
                            fileName: photo()[0],
                            pageIndex: $index,
                        })
                    "
                >
                    <span>{{ $index + 1 }}</span>
                </div>
            }
        </div>
    </ng-template>
</ng-content>
